<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous" />
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous"></script>
</head>
<body>

	<h1>Criar Grupos</h1>

	<div>


		<form th:action="@{/grupos}" method="post" th:object="${grupo}">
			<table>
				<tbody>
					<tr>
						<td><label for="codigo">Codigo:</label></td>
						<td><input type="number" id="codigo" th:field="*{codigo}"></td>
					</tr>
					<tr>
						<td><label for="nome">Tema:</label></td>
						<td><input type="text" id="tema" th:field="*{tema}"></td>
					</tr>
					<tr>
						<td><label>Aluno RA:</label></td>
						<td><input type="text" name="aluno"></td>
					</tr>
					<tr>
						<td colspan="2">
							<h3>Selecione Professor e Área</h3>
						</td>
					</tr>

					<tr>
						<td><label>Área:</label></td>
						<td><input type="text" name="area">
							<button type="submit" name="acao" value="pesquisarArea">Pesquisar</button>
						</td>
					</tr>

					<tr>
						<td><label for="professorCod">Professor:</label></td>
						<td><select name="professorCod">
								<option value="" disabled selected>Selecione um
									Professor</option>
								<option th:each="prof : ${professores}"
									th:value="${prof.codigo}" th:text="${prof.nome}"></option>
						</select></td>
					</tr>
					<tr>
						<td><label for="subarea">Subárea:</label></td>
						<td><select name="subarea">
								<option value="" disabled selected>Selecione uma
									Subárea</option>
								<option th:each="subarea : ${subareas}"
									th:value="${subarea.nome}"
									th:text=" 'Area: ' + ${subarea.area.nome} + 'SubArea: ' + ${subarea.nome}"></option>
						</select></td>
					</tr>
					<tr>
						<td><button type="submit" name="acao" value="gravar">Gravar</button></td>
						<td><button type="submit" name="acao" value="adicionar">Adicionar
								Aluno</button></td>
					</tr>
				</tbody>
			</table>
		</form>
		<div class="mt-4">
			<h3>Pesquisar</h3>
			<form th:action="@{/grupos}" method="post">
			
				<div class="mb-3">
					<label for="professorNome" class="form-label">Nome do Professor:</label> 
					<input type="text" id="professorNome" name="professorNome">
				</div>
				
				<div class="mb-3">
					<label for="alunoNome" class="form-label">Nome do Aluno:</label> <input
						type="text" id="alunoNome" name="alunoNome">
				</div>
				
				<div class="mb-3">
					<label for="data" class="form-label">Data apresentação:</label> <input
						type="date" id="data" name="data">
				</div>
				<button type="submit" name="acao" value="pesquisarGrupo">Pesquisar</button>
			</form>
		</div>
	</div>

	<h2>Lista de Grupos</h2>
	<table class="table">
		<thead>
			<tr>
				<th>Codigo</th>
				<th>Tema</th>
				<th>Orientador</th>
				<th>Area</th>
				<th>Subarea</th>
				<th>Ações</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="grupo : ${grupos}">
				<td th:text="${grupo.codigo}"></td>
				<td th:text="${grupo.tema}"></td>
				<td th:text="${grupo.orientador.nome}"></td>
				<td th:text="${grupo.area.nome}"></td>
				<td th:text="${grupo.subArea.nome}"></td>
				<td><a
					th:href="@{/grupos/editar/{codigo}(codigo=${grupo.codigo})}">Editar</a>
					<a th:href="@{/grupos/delete/{codigo}(codigo=${grupo.codigo})}">Excluir</a>
				</td>
			</tr>
		</tbody>
	</table>

</body>
</html>